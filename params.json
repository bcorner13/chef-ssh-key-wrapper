{"name":"Chef SSH Key Wrapper","tagline":"Opscode Chef cookbook LWRP to Manage SSH Private Key & SSH Wrapper","body":"ssh_key_wrapper Cookbook\r\n========================\r\n\r\nThis is an [OpsCode Chef] cookbook for Managing SSH Private Key file using Chef Data Bag and SSH Wrapper file mainly for GIT.\r\n\r\nAll SSH Private Keys are stored in a Databag as a Databag item.\r\n\r\n\r\n## Cookbook Recipes\r\n\r\n- `ddnsupdate::private_keys`   - manage ssh key and wrapper via node attribute using LWRP\r\n\r\n\r\n## Cookbook Repository\r\n\r\nhttps://github.com/vkhatri/chef-ssh-key-wrapper\r\n\r\n\r\n## Cookbook Dependencies\r\n\r\nNone\r\n\r\n\r\n## Cookbook LWRP\r\n\r\n**LWRP - ssh_key_wrapper_private**\r\n\r\nssh_key_wrapper_private LWRP is used to create/delete ssh private key file and ssh wrapper file.\r\n\r\n**LWRP example**\r\n\r\n*via node attribute:*\r\n\r\n    \"default_attributes\": {\r\n      \"ssh_key_wrapper\": {\r\n      \t\"private_keys\": {\r\n          \"test\": {\r\n            \"user\": \"virender\",\r\n            \"group\": \"devops\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\n*Create a RR using LWRP*\r\n\r\n    ssh_key_wrapper_private \"key name\" do\r\n      option option_name\r\n    end\r\n\r\n*Delete a RR using LWRP*\r\n\r\n    ssh_key_wrapper_private \"key name\" do\r\n      option option_name\r\n      action :delete\r\n    end\r\n\r\n\r\n**LWRP Options**\r\n\r\n\r\nParameters:\r\n\r\n- *key_name* - ssh private key file name, set to name_attribute\r\n\r\n- *databag (default: `node.ssh_key_wrapper.databag`)* - data bag to read ssh private key file item\r\n- *cookbook (default: `node.ssh_key_wrapper.wrapper`)* - ssh wrapper file template cookbook\r\n- *template (default: `node.ssh_key_wrapper.template`)* - ssh wrapper file template name\r\n\r\n- *enable_wrapper (default: `node.ssh_key_wrapper.enable_wrapper`)* - enable/disable create ssh wrapper for a private key\r\n- *wrapper_file* - ssh wrapper file path, default to user $HOME/.ssh/#{key_name}_wrapper\r\n- *key_file* - ssh private key file path, default to user $HOME/.ssh/#{key_name}\r\n- *key_secret* - if provided, decrypt ssh private key before create ssh key file\r\n\r\n- *user (default: `node.ssh_key_wrapper.user`)* - owner of ssh private key file\r\n- *group (deault: `node.ssh_key_wrapper.group`)* - group of ssh private key file\r\n\r\n\r\n## Cookbook Core Attributes\r\n\r\n * `default[:ssh_key_wrapper][:databag]` (default: `ssh_key_wrapper`): data bag for ssh key content, each ssh key is a data bag item.\r\n\r\n    Note: ssh private key data bag item attribute is 'key'\r\n\r\n * `default[:ssh_key_wrapper][:cookbook]` (default: `ssh_key_wrapper`): cookbook for ssh wrapper file template\r\n * `default[:ssh_key_wrapper][:template]` (default: `wrapper.erb`): template name for ssh wrapper file\r\n * `default[:ssh_key_wrapper][:enable_wrapper]` (default: `true`): create ssh wrapper\r\n * `default[:ssh_key_wrapper][:user]` (default: `root`): default ssh key and wrapper file owner\r\n * `default[:ssh_key_wrapper][:group]` (default: `root`): default ssh key and wrapper file group\r\n * `default[:ssh_key_wrapper][:private_keys]` (default: `{}`): attribute used by recipe `ssh_key_wrapper::private_keys` to create `ssh_key_wrapper_private` resources\r\n\r\n\r\n## Contributing\r\n\r\n1. Fork the repository on Github\r\n2. Create a named feature branch (like `add_component_x`)\r\n3. Write your change\r\n4. Write tests for your change (if applicable)\r\n5. Run the tests, ensuring they all pass\r\n6. Write description about changes\r\n7. Submit a Pull Request using Github\r\n\r\n\r\n## Copyright & License\r\n\r\nAuthors:: Virender Khatri (vir.khatri@gmail.com)\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n\r\n\r\n[Opscode Chef]: https://wiki.opscode.com/display/chef/Home\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}